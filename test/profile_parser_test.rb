require "minitest/autorun"
require_relative '../lib/ez7gen/profile_parser'

class TestProfileParser < MiniTest::Unit::TestCase
	
	def setup
		@parser = ProfileParser.new('2.4', 'ADT_A01')
	end

	def test_init
		assert(@parser !=nil)
		# assert(hl7 != nil)
		# refute_nil(hl7)
	end

	def test_getSegmentStructure
   	 puts @parser.getSegmentStructure('[撂炳荮犰鲤狎箦虍珏粲彗礤铘郁蝓泗躜濞й撂炳荮ａ篌弪暨羼踽歙в弭赡撂抱犰臂拜郄溴筱蜷痿轱瞌荸孱屮轸溴翦篝哏弭湾篌徵逵趄蹉趄蹂屮疱泗邃⑼尤胖牺猩宁埝心炳蔺埝蚁烃蔺埝嗡炳蔺兄炳埝兄猖蔺埝蚁烃蔺埝穆炳蔺埝下佝蔺埝撂炳蔺埝那炳蔺埝囊渠蔺埝幸炳埝蚁烃蔺蔺埝窃炳蔺埝晌炳埝晌猖蔺埝晌楚蔺埝蚁烃蔺蔺埝撩摸蔺埝章炳蔺埝章猖蔺埝心窿茛狍箦螋咤聃犰ㄥ疱泗邃鲤狎箦虍珏敉弩筢珏郁蝓泗躜濞┅孱溴翦篝唣蝻沐篌渝珥孱趔篝蝓泗⑼尤胖牺猩宁埝心炳蔺埝蚁烃蔺埝嗡炳蔺兄炳埝兄猖蔺埝蚁烃蔺埝穆炳蔺埝下佝蔺埝撂炳蔺埝那炳蔺埝囊渠蔺埝幸炳埝蚁烃蔺蔺埝窃炳蔺埝晌炳埝晌猖蔺埝晌楚蔺埝蚁烃蔺蔺埝撩摸蔺埝章炳蔺埝章猖蔺埝心窿茛蝈篚祠鲤狎箦虍痱镢弩笥彗礤铘蟥篝蝓泗狍箦螋咤聃犰ú蝈篚祠螽箝濞┅狍箦螋咤聃犰ú爆蝈篚祠筵后彗礤铘筝箝濞┅狍箦螋咤聃犰ě埝心炳荮蝈篚祠筵后彗礤铘筝郯荸孱溴翦篝咩镤逶徕戾狒趄殁豸弩鲤狎箦虍珏裘镤逶徕戾á恫狒趄殁豸弩郯莓沆狍狍箦螋咤聃犰ǔ狒趄殁豸弩箝濠狒趄殁豸弩遽汨滹狒螯瘐趔狒孱狍箦螋咤聃犰ě抱狒趄殁豸弩郯蒇ю矬轸轱瞌荸狍箦螋咤聃犰ě安К狒趄殁豸弩郾蒇鲠祯濮荸狍箦螋咤聃犰ě缅铙躞磲钺珏礤铘К狒趄殁豸弩鄄蒇т弩泸轲糸镱л孱溴翦篝哏弭渝珥孱趔蝈篚祠鲤狎箦虍珏粲彗礤铘狍箦螋咤聃犰ú爆蝈篚祠筵后彗礤铘筝箝濞┅狍箦螋咤聃犰ě埝心炳荮蝈篚祠筵后彗礤铘筝郯荸孱孱